+ . ./tests/setup
+ [ -n  ]
+ set -eu
+ dirname ./tests/shtest
+ cd ./tests
+ pwd
+ JQTESTDIR=/home/rubio/jq/tests
+ JQBASEDIR=/home/rubio/jq/tests/..
+ JQ=/home/rubio/jq/jq
+ [ -z  ]
+ which valgrind
+ VALGRIND=valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp
+ VG_EXIT0=--error-exitcode=0
+ Q=-q
+ mods=/home/rubio/jq/tests/modules
+ clean=true
+ d=
+ trap clean EXIT
+ mktemp -d -t jqXXXXXX
+ d=/tmp/jqE1C113
+ [ -z /tmp/jqE1C113 ]
+ msys=false
+ mingw=false
+ uname -s
+ JQ_NO_B=/home/rubio/jq/jq
+ JQ=/home/rubio/jq/jq -b
+ PATH=/home/rubio/jq/tests/..:/home/rubio/.opam/cs3110-2024winter/bin:/home/rubio/../../usr/local/clang+llvm-16.0.4-x86_64-linux-gnu-ubuntu-22.04/bin:/home/rubio/.deno/bin:/home/rubio/.sdkman/candidates/gradle/current/bin:/home/rubio/egos/riscv64-unknown-elf-gcc-8.3.0-2020.04.1-x86_64-linux-ubuntu14/bin:/home/rubio/.cargo/bin:/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Ruby31-x64/bin:/mnt/c/Program Files/Common Files/Oracle/Java/javapath:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Microsoft MPI/Bin/:/mnt/c/Windows/system32:/mnt/c/Windows:/mnt/c/Windows/System32/Wbem:/mnt/c/Windows/System32/WindowsPowerShell/v1.0/:/mnt/c/Windows/System32/OpenSSH/:/mnt/c/Program Files/Microsoft SQL Server/130/Tools/Binn/:/mnt/c/ProgramData/chocolatey/bin:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/dotnet/:/mnt/c/Program Files/Git/cmd:/mnt/c/Program Files/Java/jdk-19/bin:/mnt/c/Program Files/Graphviz/bin:/mnt/c/Users/rubio/.cargo/bin:/mnt/c/Users/rubio/AppData/Local/Programs/Python/Python310/Scripts/:/mnt/c/Users/rubio/AppData/Local/Programs/Python/Python310/:/mnt/c/Users/rubio/AppData/Local/Microsoft/WindowsApps:/mnt/c/Users/rubio/.dotnet/tools:/mnt/c/Users/rubio/AppData/Local/Programs/MiKTeX/miktex/bin/x64/:/mnt/c/ffmpeg/bin:/mnt/c/Users/rubio/AppData/Local/JetBrains/Toolbox/scripts:/mnt/c/MinG:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Users/rubio/jflex-1.8.2/bin:/mnt/c/Program Files/Common Files/Oracle/Java/javapath:/mnt/c/Program Files/Docker/Docker/resources/bin:/mnt/c/Program Files/nodejs/:/mnt/c/Program Files/Amazon/AWSCLIV2/:/mnt/c/Users/rubio/AppData/Local/Programs/Python/Python311/Scripts/:/mnt/c/Users/rubio/AppData/Local/Programs/Python/Python311/:/mnt/c/Users/rubio/.cargo/bin:/mnt/c/Users/rubio/AppData/Local/Microsoft/WindowsApps:/mnt/c/Users/rubio/.dotnet/tools:/mnt/c/Users/rubio/AppData/Local/Programs/MiKTeX/miktex/bin/x64/:/mnt/c/ffmpeg/bin:/mnt/c/Users/rubio/AppData/Local/JetBrains/Toolbox/scripts:/mnt/c/Users/rubio/.dotnet/tools:/mnt/c/MinGW/bin:/mnt/c/Users/rubio/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Program Files/Java/jdk-19/bin:/mnt/c/iverilog/bin:/mnt/c/iverilog/gtkwave/bin:/mnt/c/Users/rubio/Documents/personal/School/calyx:/mnt/c/Users/rubio/AppData/Local/Microsoft/WindowsApps:/mnt/c/Users/rubio/jflex-1.8.2/bin:/mnt/c/intelFPGA_lite/18.1/modelsim_ase/win32aloem:/mnt/c/intelFPGA_lite/20.1/modelsim_ase/win32aloem:/mnt/c/Users/rubio/AppData/Local/GitHubDesktop/bin:/mnt/c/Users/rubio/AppData/Local/Packages/PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0/LocalCache/local-packages/Python311/Scripts:/mnt/c/users/rubio/appdata/local/packages/pythonsoftwarefoundation.python.3.11_qbz5n2kfra8p0/localcache/local-packages/python311/site-packages/flit/:/mnt/c/Users/rubio/AppData/Local/Packages/PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0/LocalCache/local-packages/Python311/Scripts/bril2txt:/mnt/c/Users/rubio/AppData/Local/Packages/PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0/LocalCache/local-packages/Python311/Scripts/bril2json:/mnt/c/Users/rubio/AppData/Roaming/npm:/mnt/c/ProgramData/chocolatey/lib/deno:/mnt/c/tmp/z3-4-12-2-x64-win/z3-4.12.2-x64-win/bin:/mnt/c/Users/rubio/AppData/Local/bin/NASM:/home/rubio/.local/bin:/home/rubio/.rvm/bin:/home/rubio/../../usr/bin/dos2unix:/home/rubio/../../usr/bin:/home/rubio/../../usr/bin/python3.11:/home/rubio/../../mnt/c/Users/rubio/AppData/Local/Packages/PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0/LocalCache/local-packages/Python311/Scripts/lark/:/home/rubio/../../mnt/c/Users/rubio/AppData/Local/Packages/PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0/LocalCache/local-packages/Python311/Scripts/:/home/rubio/../../mnt/c/Users/rubio/AppData/Local/Packages/PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0/LocalCache/local-packages/Python311/Scripts/dist:/home/rubio/.local/bin /home/rubio/jq/tests/../tests/jq-f-test.sh
+ [ -f /home/rubio/jq/tests/../.libs/libinject_errors.so ]
+ printf a\0b\nc\0d\ne
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b -Rse . == "a\u0000b\nc\u0000d\ne" /tmp/jqE1C113/input
true
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b -Rne [inputs] == ["a\u0000b", "c\u0000d", "e"] /tmp/jqE1C113/input
true
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b -n --debug-dump-disasm "foo"
+ wc -l
+ nref=5
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b -n --debug-dump-disasm "foo" + "bar"
+ wc -l
+ n=5
+ [ 5 -ne 5 ]
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b -n --debug-dump-disasm 1+1
+ wc -l
+ n=5
+ [ 5 -ne 5 ]
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b -n --debug-dump-disasm 1-1
+ wc -l
+ n=5
+ [ 5 -ne 5 ]
+ + valgrind --error-exitcode=1 --leak-check=fullwc --suppressions=/home/rubio/jq/tests/onig.supp -l --suppressions=/home/rubio/jq/tests/local.supp
 -q /home/rubio/jq/jq -b -n --debug-dump-disasm 2*3
+ n=5
+ [ 5 -ne 5 ]
+ + wc -lvalgrind
 --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b -n --debug-dump-disasm 9/3
+ n=5
+ [ 5 -ne 5 ]
+ + valgrind --error-exitcode=1 --leak-check=fullwc --suppressions=/home/rubio/jq/tests/onig.supp -l --suppressions=/home/rubio/jq/tests/local.supp
 -q /home/rubio/jq/jq -b -n --debug-dump-disasm 9%3
+ n=5
+ [ 5 -ne 5 ]
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b -n --debug-dump-disasm 9==3
+ wc -l
+ n=5
+ [ 5 -ne 5 ]
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b -n --debug-dump-disasm 9!=3
+ wc -l
+ n=5
+ [ 5 -ne 5 ]
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b -n --debug-dump-disasm 9<3
+ wc -l
+ n=5
+ [ 5 -ne 5 ]
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b -n --debug-dump-disasm 9>3
+ wc -l
+ n=5
+ [ 5 -ne 5 ]
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b -n --debug-dump-disasm 9<=3
+ wc -l
+ n=5
+ [ 5 -ne 5 ]
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b -n --debug-dump-disasm 9>=3+ 
wc -l
+ n=5
+ [ 5 -ne 5 ]
+ cat
+ printf 1\0362 3\n[0,1\036[4,5]true"ab"{"c":4\036{}{"d":5,"e":6"\036false\n
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b -ces --seq . == [2,3,[4,5],true,"ab",{},false]
+ cmp /tmp/jqE1C113/out /tmp/jqE1C113/expected
+ cat
+ printf 1\0362 3\n[0,1\036[4,5]true"ab"{"c":4\036{}{"d":5,"e":6"false\n\036null
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b -ces --seq . == [2,3,[4,5],true,"ab",{},null]
+ cmp /tmp/jqE1C113/out /tmp/jqE1C113/expected
+ cat
+ printf "foo
+ /home/rubio/jq/jq -b -c --seq .
+ cmp /tmp/jqE1C113/out /tmp/jqE1C113/expected
+ printf "foo
+ /home/rubio/jq/jq -b -ce --seq .
+ ret=4
+ [ 4 -eq 4 ]
+ cmp /tmp/jqE1C113/out /tmp/jqE1C113/expected
+ cat
+ printf 1
+ /home/rubio/jq/jq -b -c --seq .
+ cmp /tmp/jqE1C113/out /tmp/jqE1C113/expected
+ cat
+ printf 1\n
+ /home/rubio/jq/jq -b -cen --seq [inputs] == []
+ cmp /tmp/jqE1C113/out /tmp/jqE1C113/expected
+ data={"i": 1}\n{"i": 2}\n{"i": 3}\n
+ printf {"i": 1}\n{"i": 2}\n{"i": 3}\n
+ /home/rubio/jq/jq -b --exit-status select(.i==1)
+ printf {"i": 1}\n{"i": 2}\n{"i": 3}\n
+ /home/rubio/jq/jq -b --exit-status select(.i==2)
+ printf {"i": 1}\n{"i": 2}\n{"i": 3}\n
+ /home/rubio/jq/jq -b --exit-status select(.i==3)
+ ret=0
+ printf {"i": 1}\n{"i": 2}\n{"i": 3}\n
+ /home/rubio/jq/jq -b --exit-status select(.i==4)
+ ret=4
+ [ 4 -eq 4 ]
+ ret=0
+ printf {"i": 1}\n{"i": 2}\n{"i": 3}\n
+ /home/rubio/jq/jq -b --exit-status select(.i==2) | false
+ ret=1
+ [ 1 -eq 1 ]
+ printf {"i": 1}\n{"i": 2}\n{"i": 3}\n
+ /home/rubio/jq/jq -b --exit-status select(.i==2) | true
+ printf "a\n
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b -e . /tmp/jqE1C113/input
jq: parse error: Unfinished string at EOF at line 2, column 0
+ echo foobar
+ /home/rubio/jq/jq -b .
jq: parse error: Invalid literal at line 2, column 0
+ [ 5 -ne 5 ]
+ echo {"a": 1E9999999999}
+ /home/rubio/jq/jq -b .
+ /home/rubio/jq/jq -b -e .a
1.7976931348623157E+308
+ echo [1,2,3,4]
+ printf [1,2][3,4]
+ /home/rubio/jq/jq -b -cs add
+ cmp /tmp/jqE1C113/out /tmp/jqE1C113/expected
+ printf [1,2][3,4]\n
+ /home/rubio/jq/jq -b -cs add
+ cmp /tmp/jqE1C113/out /tmp/jqE1C113/expected
+ printf a\0b\0
+ printf ["a", "b"]
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b --raw-output0 .[]
+ cmp /tmp/jqE1C113/out /tmp/jqE1C113/expected
+ printf a\0
+ printf ["a", "c\\u0000d", "b"]
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b --raw-output0 .[]
jq: error (at <stdin>:0): Cannot dump a string containing NUL with --raw-output0 option
+ [ 5 -ne 5 ]
+ cmp /tmp/jqE1C113/out /tmp/jqE1C113/expected
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b -c . as $d|path(..) as $p|$d|getpath($p)|select((type|. != "array" and . != "object") or length==0)|[$p,.]
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b --stream -c .|select(length==2)
+ diff /tmp/jqE1C113/out0 /tmp/jqE1C113/out1
+ printf ["Unfinished JSON term at EOF at line 1, column 1",[0]]\n
+ printf [
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b --stream-errors -c .
+ diff /tmp/jqE1C113/out /tmp/jqE1C113/expected
+ clean=false
+ which seq
+ [ -z valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ start=120
+ end=151
+ seq 120 151
+ dd if=tests/torture/input0.json bs=120 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -c .
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ dd if=tests/torture/input0.json bs=120 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -cn --stream fromstream(inputs)
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ diff /tmp/jqE1C113/out0 /tmp/jqE1C113/out1
+ dd if=tests/torture/input0.json bs=121 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -c .
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ dd if=tests/torture/input0.json bs=121 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -cn --stream fromstream(inputs)
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ diff /tmp/jqE1C113/out0 /tmp/jqE1C113/out1
+ dd if=tests/torture/input0.json bs=122 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -c .
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ dd if=tests/torture/input0.json bs=122 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -cn --stream fromstream(inputs)
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ diff /tmp/jqE1C113/out0 /tmp/jqE1C113/out1
+ dd if=tests/torture/input0.json bs=123 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -c .
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ dd if=tests/torture/input0.json bs=123 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -cn --stream fromstream(inputs)
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ diff /tmp/jqE1C113/out0 /tmp/jqE1C113/out1
+ dd if=tests/torture/input0.json bs=124 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -c .
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ dd if=tests/torture/input0.json bs=124 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -cn --stream fromstream(inputs)
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ diff /tmp/jqE1C113/out0 /tmp/jqE1C113/out1
+ dd if=tests/torture/input0.json bs=125 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -c .
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ dd if=tests/torture/input0.json bs=125 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -cn --stream fromstream(inputs)
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ diff /tmp/jqE1C113/out0 /tmp/jqE1C113/out1
+ dd if=tests/torture/input0.json bs=126 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -c .
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ dd if=tests/torture/input0.json bs=126 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -cn --stream fromstream(inputs)
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ diff /tmp/jqE1C113/out0 /tmp/jqE1C113/out1
+ dd if=tests/torture/input0.json bs=127 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -c .
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ dd if=tests/torture/input0.json bs=127 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -cn --stream fromstream(inputs)
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ diff /tmp/jqE1C113/out0 /tmp/jqE1C113/out1
+ dd if=tests/torture/input0.json bs=128 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -c .
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ dd if=tests/torture/input0.json bs=128 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -cn --stream fromstream(inputs)
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ diff /tmp/jqE1C113/out0 /tmp/jqE1C113/out1
+ dd if=tests/torture/input0.json bs=129 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -c .
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ dd if=tests/torture/input0.json bs=129 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -cn --stream fromstream(inputs)
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ diff /tmp/jqE1C113/out0 /tmp/jqE1C113/out1
+ dd if=tests/torture/input0.json bs=130 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -c .
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ dd if=tests/torture/input0.json bs=130 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -cn --stream fromstream(inputs)
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ diff /tmp/jqE1C113/out0 /tmp/jqE1C113/out1
+ dd if=tests/torture/input0.json bs=131 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -c .
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ dd if=tests/torture/input0.json bs=131 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -cn --stream fromstream(inputs)
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ diff /tmp/jqE1C113/out0 /tmp/jqE1C113/out1
+ dd if=tests/torture/input0.json bs=132 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -c .
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ dd if=tests/torture/input0.json bs=132 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -cn --stream fromstream(inputs)
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ diff /tmp/jqE1C113/out0 /tmp/jqE1C113/out1
+ dd if=tests/torture/input0.json bs=133 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -c .
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ dd if=tests/torture/input0.json bs=133 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -cn --stream fromstream(inputs)
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ diff /tmp/jqE1C113/out0 /tmp/jqE1C113/out1
+ dd if=tests/torture/input0.json bs=134 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -c .
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ dd if=tests/torture/input0.json bs=134 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -cn --stream fromstream(inputs)
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ diff /tmp/jqE1C113/out0 /tmp/jqE1C113/out1
+ dd if=tests/torture/input0.json bs=135 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -c .
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ dd if=tests/torture/input0.json bs=135 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -cn --stream fromstream(inputs)
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ diff /tmp/jqE1C113/out0 /tmp/jqE1C113/out1
+ dd if=tests/torture/input0.json bs=136 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -c .
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ dd if=tests/torture/input0.json bs=136 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -cn --stream fromstream(inputs)
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ diff /tmp/jqE1C113/out0 /tmp/jqE1C113/out1
+ dd if=tests/torture/input0.json bs=137 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -c .
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ dd if=tests/torture/input0.json bs=137 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -cn --stream fromstream(inputs)
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ diff /tmp/jqE1C113/out0 /tmp/jqE1C113/out1
+ dd if=tests/torture/input0.json bs=138 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -c .
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ dd if=tests/torture/input0.json bs=138 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -cn --stream fromstream(inputs)
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ diff /tmp/jqE1C113/out0 /tmp/jqE1C113/out1
+ dd if=tests/torture/input0.json bs=139 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -c .
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ dd if=tests/torture/input0.json bs=139 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -cn --stream fromstream(inputs)
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ diff /tmp/jqE1C113/out0 /tmp/jqE1C113/out1
+ dd if=tests/torture/input0.json bs=140 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -c .
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ dd if=tests/torture/input0.json bs=140 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -cn --stream fromstream(inputs)
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ diff /tmp/jqE1C113/out0 /tmp/jqE1C113/out1
+ dd if=tests/torture/input0.json bs=141 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -c .
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ dd if=tests/torture/input0.json bs=141 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -cn --stream fromstream(inputs)
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ diff /tmp/jqE1C113/out0 /tmp/jqE1C113/out1
+ dd if=tests/torture/input0.json bs=142 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -c .
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ dd if=tests/torture/input0.json bs=142 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -cn --stream fromstream(inputs)
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ diff /tmp/jqE1C113/out0 /tmp/jqE1C113/out1
+ dd if=tests/torture/input0.json bs=143 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -c .
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ dd if=tests/torture/input0.json bs=143 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -cn --stream fromstream(inputs)
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ diff /tmp/jqE1C113/out0 /tmp/jqE1C113/out1
+ dd if=tests/torture/input0.json bs=144 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -c .
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ dd if=tests/torture/input0.json bs=144 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -cn --stream fromstream(inputs)
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ diff /tmp/jqE1C113/out0 /tmp/jqE1C113/out1
+ dd if=tests/torture/input0.json bs=145 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -c .
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ dd if=tests/torture/input0.json bs=145 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -cn --stream fromstream(inputs)
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ diff /tmp/jqE1C113/out0 /tmp/jqE1C113/out1
+ dd if=tests/torture/input0.json bs=146 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -c .
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ dd if=tests/torture/input0.json bs=146 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -cn --stream fromstream(inputs)
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ diff /tmp/jqE1C113/out0 /tmp/jqE1C113/out1
+ dd if=tests/torture/input0.json bs=147 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -c .
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ dd if=tests/torture/input0.json bs=147 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -cn --stream fromstream(inputs)
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ diff /tmp/jqE1C113/out0 /tmp/jqE1C113/out1
+ dd if=tests/torture/input0.json bs=148 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -c .
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ dd if=tests/torture/input0.json bs=148 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -cn --stream fromstream(inputs)
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ diff /tmp/jqE1C113/out0 /tmp/jqE1C113/out1
+ dd if=tests/torture/input0.json bs=149 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -c .
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ dd if=tests/torture/input0.json bs=149 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -cn --stream fromstream(inputs)
+ true
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ diff /tmp/jqE1C113/out0 /tmp/jqE1C113/out1
+ dd if=tests/torture/input0.json bs=150 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -c .
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ dd if=tests/torture/input0.json bs=150 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -cn --stream fromstream(inputs)
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ diff /tmp/jqE1C113/out0 /tmp/jqE1C113/out1
+ dd if=tests/torture/input0.json bs=151 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -c .
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ dd if=tests/torture/input0.json bs=151 count=1
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -cn --stream fromstream(inputs)
+ [ -n valgrind --error-exitcode=1 --leak-check=full                        --suppressions=/home/rubio/jq/tests/onig.supp                        --suppressions=/home/rubio/jq/tests/local.supp ]
+ grep ^==[0-9][0-9]*== ERROR SUMMARY: 0 errors /tmp/jqE1C113/err
+ diff /tmp/jqE1C113/out0 /tmp/jqE1C113/out1
+ echo {"a":1,"b",
+ /home/rubio/jq/jq -b --stream
+ true
+ grep Objects must consist of key:value pairs /tmp/jqE1C113/err
+ echo {{"a":"b"}}
+ /home/rubio/jq/jq -b --stream
+ true
+ grep Expected string key after '{', not '{' /tmp/jqE1C113/err
+ echo {"x":"y",{"a":"b"}}
+ /home/rubio/jq/jq -b --stream
+ true
+ grep Expected string key after ',' in object, not '{' /tmp/jqE1C113/err
+ echo {["a","b"]}
+ /home/rubio/jq/jq -b --stream
+ true
+ grep Expected string key after '{', not '\[' /tmp/jqE1C113/err
+ echo {"x":"y",["a","b"]}
+ /home/rubio/jq/jq -b --stream
+ true
+ grep Expected string key after ',' in object, not '\[' /tmp/jqE1C113/err
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b -n "test", {} | debug, stderr
["DEBUG:","test"]
test["DEBUG:",{}]
{}+ /home/rubio/jq/jq -b -n -c -j "hello\nworld", null, [false, 0], {"foo":["bar"]}, "\n" | stderr
+ cat
+ cmp /tmp/jqE1C113/out /tmp/jqE1C113/expected
+ cmp /tmp/jqE1C113/err /tmp/jqE1C113/expected
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -n -c --arg foo 1 --argjson bar 2 {$foo, $bar} | ., . == $ARGS.named
==6344== Memcheck, a memory error detector
==6344== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==6344== Using Valgrind-3.18.1 and LibVEX; rerun with -h for copyright info
==6344== Command: /home/rubio/jq/jq -b -n -c --arg foo 1 --argjson bar 2 {$foo,\ $bar}\ |\ .,\ .\ ==\ $ARGS.named
==6344== 
==6344== 
==6344== HEAP SUMMARY:
==6344==     in use at exit: 0 bytes in 0 blocks
==6344==   total heap usage: 7,319 allocs, 7,319 frees, 1,022,029 bytes allocated
==6344== 
==6344== All heap blocks were freed -- no leaks are possible
==6344== 
==6344== For lists of detected and suppressed errors, rerun with: -s
==6344== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
+ printf {"foo":"1","bar":2}\ntrue\n
+ cmp /tmp/jqE1C113/out /tmp/jqE1C113/expected
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -n --slurpfile foo /home/rubio/jq/tests/../tests/modules/data.json --rawfile bar /home/rubio/jq/tests/../tests/modules/data.json {$foo, $bar}
==6346== Memcheck, a memory error detector
==6346== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==6346== Using Valgrind-3.18.1 and LibVEX; rerun with -h for copyright info
==6346== Command: /home/rubio/jq/jq -b -n --slurpfile foo /home/rubio/jq/tests/../tests/modules/data.json --rawfile bar /home/rubio/jq/tests/../tests/modules/data.json {$foo,\ $bar}
==6346== 
==6346== 
==6346== HEAP SUMMARY:
==6346==     in use at exit: 0 bytes in 0 blocks
==6346==   total heap usage: 7,309 allocs, 7,309 frees, 1,030,184 bytes allocated
==6346== 
==6346== All heap blocks were freed -- no leaks are possible
==6346== 
==6346== For lists of detected and suppressed errors, rerun with: -s
==6346== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
+ cat
+ cmp /tmp/jqE1C113/out /tmp/jqE1C113/expected
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -n -c --args $ARGS.positional foo bar baz
==6355== Memcheck, a memory error detector
==6355== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==6355== Using Valgrind-3.18.1 and LibVEX; rerun with -h for copyright info
==6355== Command: /home/rubio/jq/jq -b -n -c --args $ARGS.positional foo bar baz
==6355== 
==6355== 
==6355== HEAP SUMMARY:
==6355==     in use at exit: 0 bytes in 0 blocks
==6355==   total heap usage: 7,275 allocs, 7,275 frees, 1,016,438 bytes allocated
==6355== 
==6355== All heap blocks were freed -- no leaks are possible
==6355== 
==6355== For lists of detected and suppressed errors, rerun with: -s
==6355== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
+ printf ["foo","bar","baz"]\n
+ cmp /tmp/jqE1C113/out /tmp/jqE1C113/expected
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -n -c --jsonargs $ARGS.positional null true [] {}
==6357== Memcheck, a memory error detector
==6357== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==6357== Using Valgrind-3.18.1 and LibVEX; rerun with -h for copyright info
==6357== Command: /home/rubio/jq/jq -b -n -c --jsonargs $ARGS.positional null true [] {}
==6357== 
==6357== 
==6357== HEAP SUMMARY:
==6357==     in use at exit: 0 bytes in 0 blocks
==6357==   total heap usage: 7,278 allocs, 7,278 frees, 1,017,874 bytes allocated
==6357== 
==6357== All heap blocks were freed -- no leaks are possible
==6357== 
==6357== For lists of detected and suppressed errors, rerun with: -s
==6357== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
+ printf [null,true,[],{}]\n
+ cmp /tmp/jqE1C113/out /tmp/jqE1C113/expected
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -n -c $ARGS.positional --args foo 1 --jsonargs 2 {} --args 3 4
==6359== Memcheck, a memory error detector
==6359== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==6359== Using Valgrind-3.18.1 and LibVEX; rerun with -h for copyright info
==6359== Command: /home/rubio/jq/jq -b -n -c $ARGS.positional --args foo 1 --jsonargs 2 {} --args 3 4
==6359== 
==6359== 
==6359== HEAP SUMMARY:
==6359==     in use at exit: 0 bytes in 0 blocks
==6359==   total heap usage: 7,281 allocs, 7,281 frees, 1,017,318 bytes allocated
==6359== 
==6359== All heap blocks were freed -- no leaks are possible
==6359== 
==6359== For lists of detected and suppressed errors, rerun with: -s
==6359== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
+ printf ["foo","1",2,{},"3","4"]\n
+ cmp /tmp/jqE1C113/out /tmp/jqE1C113/expected
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -n -c $ARGS.positional --args --jsonargs
==6367== Memcheck, a memory error detector
==6367== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==6367== Using Valgrind-3.18.1 and LibVEX; rerun with -h for copyright info
==6367== Command: /home/rubio/jq/jq -b -n -c $ARGS.positional --args --jsonargs
==6367== 
==6367== 
==6367== HEAP SUMMARY:
==6367==     in use at exit: 0 bytes in 0 blocks
==6367==   total heap usage: 7,272 allocs, 7,272 frees, 1,016,378 bytes allocated
==6367== 
==6367== All heap blocks were freed -- no leaks are possible
==6367== 
==6367== For lists of detected and suppressed errors, rerun with: -s
==6367== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
+ printf []\n
+ cmp /tmp/jqE1C113/out /tmp/jqE1C113/expected
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -n --jsonargs null invalid
==6369== Memcheck, a memory error detector
==6369== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==6369== Using Valgrind-3.18.1 and LibVEX; rerun with -h for copyright info
==6369== Command: /home/rubio/jq/jq -b -n --jsonargs null invalid
==6369== 
/home/rubio/jq/jq: invalid JSON text passed to --jsonargs
Use /home/rubio/jq/jq --help for help with command-line options,
or see the jq manpage, or online docs  at https://jqlang.github.io/jq
==6369== 
==6369== HEAP SUMMARY:
==6369==     in use at exit: 5,613 bytes in 7 blocks
==6369==   total heap usage: 42 allocs, 35 frees, 12,103 bytes allocated
==6369== 
==6369== LEAK SUMMARY:
==6369==    definitely lost: 0 bytes in 0 blocks
==6369==    indirectly lost: 0 bytes in 0 blocks
==6369==      possibly lost: 0 bytes in 0 blocks
==6369==    still reachable: 5,613 bytes in 7 blocks
==6369==         suppressed: 0 bytes in 0 blocks
==6369== Reachable blocks (those to which a pointer was found) are not shown.
==6369== To see them, rerun with: --leak-check=full --show-leak-kinds=all
==6369== 
==6369== For lists of detected and suppressed errors, rerun with: -s
==6369== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
+ EC=2
+ [ 2 -ne 2 ]
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp /home/rubio/jq/jq -b -n --jsonargs null -- invalid
==6370== Memcheck, a memory error detector
==6370== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==6370== Using Valgrind-3.18.1 and LibVEX; rerun with -h for copyright info
==6370== Command: /home/rubio/jq/jq -b -n --jsonargs null -- invalid
==6370== 
/home/rubio/jq/jq: invalid JSON text passed to --jsonargs
Use /home/rubio/jq/jq --help for help with command-line options,
or see the jq manpage, or online docs  at https://jqlang.github.io/jq
==6370== 
==6370== HEAP SUMMARY:
==6370==     in use at exit: 5,613 bytes in 7 blocks
==6370==   total heap usage: 42 allocs, 35 frees, 12,103 bytes allocated
==6370== 
==6370== LEAK SUMMARY:
==6370==    definitely lost: 0 bytes in 0 blocks
==6370==    indirectly lost: 0 bytes in 0 blocks
==6370==      possibly lost: 0 bytes in 0 blocks
==6370==    still reachable: 5,613 bytes in 7 blocks
==6370==         suppressed: 0 bytes in 0 blocks
==6370== Reachable blocks (those to which a pointer was found) are not shown.
==6370== To see them, rerun with: --leak-check=full --show-leak-kinds=all
==6370== 
==6370== For lists of detected and suppressed errors, rerun with: -s
==6370== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
+ EC=2
+ [ 2 -ne 2 ]
+ clean=false
+ dd if=/dev/urandom bs=16 count=1024
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b --seq . /tmp/jqE1C113/rand
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b --seq --stream . /tmp/jqE1C113/rand
+ dd if=/dev/urandom bs=16 count=1024
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b --seq . /tmp/jqE1C113/rand
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b --seq --stream . /tmp/jqE1C113/rand
+ dd if=/dev/urandom bs=16 count=1024
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b --seq . /tmp/jqE1C113/rand
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b --seq --stream . /tmp/jqE1C113/rand
+ clean=true
+ HOME=/home/rubio/jq/tests/modules/home1 valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b -nr fg
+ [ foobar != foobar ]
+ HOME=/home/rubio/jq/tests/modules/home1 valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp+  -q /home/rubio/jq/jq -bgrep --debug-dump-disasm ^[a-z] -n
 fg
+ wc -l
+ [ 3 -ne 3 ]
+ HOME=/home/rubio/jq/tests/modules/home2 valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b -n include "g"; empty
+ cd /home/rubio/jq/tests/..
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b -L ./tests/modules -ne import "test_bind_order" as check; check::check==true
true
+ cd /home/rubio/jq/tests/..
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b -L tests/modules -ne import "test_bind_order" as check; check::check==true
true
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b -n halt
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q --error-exitcode=0 /home/rubio/jq/jq -b -n halt_error(1)
+ [ 1 -ne 1 ]
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q --error-exitcode=0 /home/rubio/jq/jq -b -n halt_error(11)
+ [ 11 -ne 11 ]
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b -n halt_error(1)
+ [ -n  ]
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b -n "xyz\n" | halt_error(1)
+ [ -n  ]
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b -n "xy" | halt_error(1)
+ echo z
+ [ xyz != xyz ]
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b -n "x\u0000y\u0000z" | halt_error(1)
+ tr \0 .
+ [ x.y.z != x.y.z ]
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b -n {"a":"xyz"} | halt_error(1)
+ [ {"a":"xyz"} != {"a":"xyz"} ]
+ unset JQ_COLORS
+ /home/rubio/jq/jq -b -Ccn .
+ printf \033[0;90mnull\033[0m\n
+ cmp /tmp/jqE1C113/color /tmp/jqE1C113/expect
+ JQ_COLORS=4;31 /home/rubio/jq/jq -b -Ccn .
+ printf \033[4;31mnull\033[0m\n
+ cmp /tmp/jqE1C113/color /tmp/jqE1C113/expect
+ /home/rubio/jq/jq -b -Ccn [{"a":true,"b":false},123,null]
+ printf \033[1;39m[\033[1;39m{
+ printf \033[0m\033[1;34m"a"\033[
+ printf 0m\033[1;39m:\033[0m\033[
+ printf 0;39mtrue\033[0m\033[1
+ printf ;39m,\033[0m\033[1;34m
+ printf "b"\033[0m\033[1;39m:\033
+ printf [0m\033[0;39mfalse\033
+ printf [0m\033[1;39m\033[1;39
+ printf m}\033[0m\033[1;39m,\033[
+ printf 0;39m123\033[0m\033[1;
+ printf 39m,\033[0;90mnull\033
+ printf [0m\033[1;39m\033[1;39
+ printf m]\033[0m\n
+ cmp /tmp/jqE1C113/color /tmp/jqE1C113/expect
+ JQ_COLORS=0;30:0;31:0;32:0;33:0;34:1;35:1;36:1;37 /home/rubio/jq/jq -b -Ccn [{"a":true,"b":false},123,null]
+ printf \033[1;35m[\033[1;36m{
+ printf \033[0m\033[1;37m"a"\033[
+ printf 0m\033[1;36m:\033[0m\033[
+ printf 0;32mtrue\033[0m\033[1
+ printf ;36m,\033[0m\033[1;37m
+ printf "b"\033[0m\033[1;36m:\033
+ printf [0m\033[0;31mfalse\033
+ printf [0m\033[1;36m\033[1;36
+ printf m}\033[0m\033[1;35m,\033[
+ printf 0;33m123\033[0m\033[1;
+ printf 35m,\033[0;30mnull\033
+ printf [0m\033[1;35m\033[1;35
+ printf m]\033[0m\n
+ cmp /tmp/jqE1C113/color /tmp/jqE1C113/expect
+ set -vx
echo 'Failed to set $JQ_COLORS' > $d/expect_warning
+ echo Failed to set $JQ_COLORS
$JQ -Ccn '[{"a":true,"b":false},123,null]' > $d/expect
+ /home/rubio/jq/jq -b -Ccn [{"a":true,"b":false},123,null]
JQ_COLORS='garbage;30:*;31:,;3^:0;$%:0;34:1;35:1;36' \
  $JQ -Ccn '[{"a":true,"b":false},123,null]' > $d/color 2>$d/warning
+ JQ_COLORS=garbage;30:*;31:,;3^:0;$%:0;34:1;35:1;36 /home/rubio/jq/jq -b -Ccn [{"a":true,"b":false},123,null]
cmp $d/color $d/expect
+ cmp /tmp/jqE1C113/color /tmp/jqE1C113/expect
cmp $d/warning $d/expect_warning
+ cmp /tmp/jqE1C113/warning /tmp/jqE1C113/expect_warning
JQ_COLORS='1234567890123456789;30:0;31:0;32:0;33:0;34:1;35:1;36' \
  $JQ -Ccn '[{"a":true,"b":false},123,null]' > $d/color 2>$d/warning
+ JQ_COLORS=1234567890123456789;30:0;31:0;32:0;33:0;34:1;35:1;36 /home/rubio/jq/jq -b -Ccn [{"a":true,"b":false},123,null]
cmp $d/color $d/expect
+ cmp /tmp/jqE1C113/color /tmp/jqE1C113/expect
cmp $d/warning $d/expect_warning
+ cmp /tmp/jqE1C113/warning /tmp/jqE1C113/expect_warning
JQ_COLORS='1;31234567890123456789:0;31:0;32:0;33:0;34:1;35:1;36' \
  $JQ -Ccn '[{"a":true,"b":false},123,null]' > $d/color 2>$d/warning
+ JQ_COLORS=1;31234567890123456789:0;31:0;32:0;33:0;34:1;35:1;36 /home/rubio/jq/jq -b -Ccn [{"a":true,"b":false},123,null]
cmp $d/color $d/expect
+ cmp /tmp/jqE1C113/color /tmp/jqE1C113/expect
cmp $d/warning $d/expect_warning
+ cmp /tmp/jqE1C113/warning /tmp/jqE1C113/expect_warning
JQ_COLORS='1234567890123456;1234567890123456:1234567890123456;1234567890123456:1234567890123456;1234567890123456:1234567890123456;1234567890123456:1234567890123456;1234567890123456:1234567890123456;1234567890123456:1234567890123456;1234567890123456' \
  $JQ -Ccn '[{"a":true,"b":false},123,null]' > $d/color 2>$d/warning
+ JQ_COLORS=1234567890123456;1234567890123456:1234567890123456;1234567890123456:1234567890123456;1234567890123456:1234567890123456;1234567890123456:1234567890123456;1234567890123456:1234567890123456;1234567890123456:1234567890123456;1234567890123456 /home/rubio/jq/jq -b -Ccn [{"a":true,"b":false},123,null]
cmp $d/color $d/expect
+ cmp /tmp/jqE1C113/color /tmp/jqE1C113/expect
cmp $d/warning $d/expect_warning
+ cmp /tmp/jqE1C113/warning /tmp/jqE1C113/expect_warning
JQ_COLORS="0123456789123:0123456789123:0123456789123:0123456789123:0123456789123:0123456789123:0123456789123:0123456789123:" \
  $JQ -Ccn '[{"a":true,"b":false},123,null]' > $d/color 2>$d/warning
+ JQ_COLORS=0123456789123:0123456789123:0123456789123:0123456789123:0123456789123:0123456789123:0123456789123:0123456789123: /home/rubio/jq/jq -b -Ccn [{"a":true,"b":false},123,null]
cmp $d/color $d/expect
+ cmp /tmp/jqE1C113/color /tmp/jqE1C113/expect
cmp $d/warning $d/expect_warning
+ cmp /tmp/jqE1C113/warning /tmp/jqE1C113/expect_warning

# Check $NO_COLOR
test_no_color=true
+ test_no_color=true
$msys  && test_no_color=false
+ false
$mingw && test_no_color=false
+ false
if $test_no_color && command -v script >/dev/null 2>&1; then
  unset NO_COLOR
  if script -qc echo /dev/null >/dev/null 2>&1; then
    faketty() { script -qec "$*" /dev/null; }
  else # macOS
    faketty() { script -q /dev/null "$@" /dev/null |
      sed 's/^\x5E\x44\x08\x08//'; }
  fi

  faketty $JQ_NO_B -n . > $d/color
  printf '\033[0;90mnull\033[0m\r\n' > $d/expect
  od -tc $d/expect
  od -tc $d/color
  cmp $d/color $d/expect
  NO_COLOR= faketty $JQ_NO_B -n . > $d/color
  printf '\033[0;90mnull\033[0m\r\n' > $d/expect
  od -tc $d/expect
  od -tc $d/color
  cmp $d/color $d/expect
  NO_COLOR=1 faketty $JQ_NO_B -n . > $d/color
  printf 'null\r\n' > $d/expect
  od -tc $d/expect
  od -tc $d/color
  cmp $d/color $d/expect
  NO_COLOR=1 faketty $JQ_NO_B -Cn . > $d/color
  printf '\033[0;90mnull\033[0m\r\n' > $d/expect
  od -tc $d/expect
  od -tc $d/color
  cmp $d/color $d/expect
fi
+ true
+ command -v script
+ unset NO_COLOR
+ script -qc echo /dev/null
+ faketty /home/rubio/jq/jq -n .
+ script -qec /home/rubio/jq/jq -n . /dev/null
+ printf \033[0;90mnull\033[0m\r\n
+ od -tc /tmp/jqE1C113/expect
0000000 033   [   0   ;   9   0   m   n   u   l   l 033   [   0   m  \r
0000020  \n
0000021
+ od -tc /tmp/jqE1C113/color
0000000 033   [   0   ;   9   0   m   n   u   l   l 033   [   0   m  \r
0000020  \n
0000021
+ cmp /tmp/jqE1C113/color /tmp/jqE1C113/expect
+ NO_COLOR= faketty /home/rubio/jq/jq -n .
+ script -qec /home/rubio/jq/jq -n . /dev/null
+ printf \033[0;90mnull\033[0m\r\n
+ od -tc /tmp/jqE1C113/expect
0000000 033   [   0   ;   9   0   m   n   u   l   l 033   [   0   m  \r
0000020  \n
0000021
+ od -tc /tmp/jqE1C113/color
0000000 033   [   0   ;   9   0   m   n   u   l   l 033   [   0   m  \r
0000020  \n
0000021
+ cmp /tmp/jqE1C113/color /tmp/jqE1C113/expect
+ NO_COLOR=1 faketty /home/rubio/jq/jq -n .
+ script -qec /home/rubio/jq/jq -n . /dev/null
+ printf null\r\n
+ od -tc /tmp/jqE1C113/expect
0000000   n   u   l   l  \r  \n
0000006
+ od -tc /tmp/jqE1C113/color
0000000   n   u   l   l  \r  \n
0000006
+ cmp /tmp/jqE1C113/color /tmp/jqE1C113/expect
+ NO_COLOR=1 faketty /home/rubio/jq/jq -Cn .
+ script -qec /home/rubio/jq/jq -Cn . /dev/null
+ printf \033[0;90mnull\033[0m\r\n
+ od -tc /tmp/jqE1C113/expect
0000000 033   [   0   ;   9   0   m   n   u   l   l 033   [   0   m  \r
0000020  \n
0000021
+ od -tc /tmp/jqE1C113/color
0000000 033   [   0   ;   9   0   m   n   u   l   l 033   [   0   m  \r
0000020  \n
0000021
+ cmp /tmp/jqE1C113/color /tmp/jqE1C113/expect

# #2785
if $VALGRIND $Q $JQ -n -f "$JQTESTDIR/no-main-program.jq" > $d/out 2>&1; then
  echo "jq -f $JQTESTDIR/no-main-program.jq succeeded"
  exit 1
else
  EC=$?
  if [ $EC -eq 1 ]; then
    echo "jq -f $JQTESTDIR/no-main-program.jq failed with memory errors"
    exit 1
  fi
  if [ $EC -ne 3 ]; then
    echo "jq -f $JQTESTDIR/no-main-program.jq failed with wrong exit code ($EC)"
    exit 1
  fi
fi
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b -n -f /home/rubio/jq/tests/no-main-program.jq
+ EC=3
+ [ 3 -eq 1 ]
+ [ 3 -ne 3 ]
cat > $d/expected <<EOF
jq: error: Top-level program not given (try ".")
jq: 1 compile error
EOF
+ cat
if ! diff $d/expected $d/out; then
  echo "jq -f $JQTESTDIR/no-main-program.jq failed but its error message is not the expected one"
  exit 1
fi
+ diff /tmp/jqE1C113/expected /tmp/jqE1C113/out

if ! $VALGRIND $Q $JQ -n -f "$JQTESTDIR/yes-main-program.jq" > $d/out 2>&1; then
  echo "jq -f $JQTESTDIR/yes-main-program.jq failed"
  exit 1
fi
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b -n -f /home/rubio/jq/tests/yes-main-program.jq

if ! $msys && ! $mingw && locales=$(locale -a); then
  { l=$(grep -Ev '^(C|LANG|POSIX|en)' | grep -Ei '\.utf-?8$' | head -n1) ;} \
<<EOF
$locales
EOF
  if [ -z "$l" ]; then
    echo "WARNING: Not testing localization"
  else
    date=$(LC_ALL=$l date +'%a %d %b %Y at %H:%M:%S')
    if ! LC_ALL=$l $JQ -nR --arg date "$date" '$date|strptime("%a %d %b %Y at %H:%M:%S")'; then
      echo "jq does not honor LC_ALL environment variable"
      exit 1
    fi
  fi
fi
+ false
+ false
+ locale -a
+ locales=C
C.utf8
en_AG
en_AG.utf8
en_AU.utf8
en_BW.utf8
en_CA.utf8
en_DK.utf8
en_GB.utf8
en_HK.utf8
en_IE.utf8
en_IL
en_IL.utf8
en_IN
en_IN.utf8
en_NG
en_NG.utf8
en_NZ.utf8
en_PH.utf8
en_SG.utf8
en_US.utf8
en_ZA.utf8
en_ZM
en_ZM.utf8
en_ZW.utf8
POSIX
+ grep -Ev ^(C|LANG|POSIX|en)
+ grep -Ei \.utf-?8$
+ head -n1
+ l=
+ [ -z  ]
+ echo WARNING: Not testing localization
WARNING: Not testing localization

# Comments!
if ! x=$($JQ -n '123 # comment') || [ "$x" != 123 ]; then
  echo 'comment did not work'
  exit 1
fi
+ /home/rubio/jq/jq -b -n 123 # comment
+ x=123
+ [ 123 != 123 ]

cr=$(printf \\r)
+ printf \r
+ cr=
if ! x=$($JQ -n "1 # foo$cr + 2") || [ "$x" != 1 ]; then
  echo 'regression: carriage return terminates comment'
  exit 1
fi
+ /home/rubio/jq/jq -b -n 1 # foo + 2
+ x=1
+ [ 1 != 1 ]

if ! x=$($JQ -cn '[
  1,
  # foo \
  2,
  # bar \\
  3,
  4, # baz \\\
  5, \
  6,
  7
  # comment \
    comment \
    comment
]') || [ "$x" != '[1,3,4,7]' ]; then
  echo 'multiline comment was not handled correctly'
  exit 1
fi
+ /home/rubio/jq/jq -b -cn [
  1,
  # foo \
  2,
  # bar \\
  3,
  4, # baz \\\
  5, \
  6,
  7
  # comment \
    comment \
    comment
]
+ x=[1,3,4,7]
+ [ [1,3,4,7] != [1,3,4,7] ]

# CVE-2023-50268: No stack overflow comparing a nan with a large payload
$VALGRIND $Q $JQ '1 != .' <<\EOF >/dev/null
Nan4000
EOF
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b 1 != .

# Allow passing the inline jq script before -- #2919
if ! r=$($JQ --args -rn -- '$ARGS.positional[0]' bar) || [ "$r" != bar ]; then
    echo "passing the inline script after -- didn't work"
    exit 1
fi
+ /home/rubio/jq/jq -b --args -rn -- $ARGS.positional[0] bar
+ r=bar
+ [ bar != bar ]
if ! r=$($JQ --args -rn 1 -- '$ARGS.positional[0]' bar) || [ "$r" != 1 ]; then
    echo "passing the inline script before -- didn't work"
    exit 1
fi
+ /home/rubio/jq/jq -b --args -rn 1 -- $ARGS.positional[0] bar
+ r=1
+ [ 1 != 1 ]

# CVE-2023-50246: No heap overflow for '-10E-1000000001'
$VALGRIND $Q $JQ . <<\NUM
-10E-1000000001
NUM
+ valgrind --error-exitcode=1 --leak-check=full --suppressions=/home/rubio/jq/tests/onig.supp --suppressions=/home/rubio/jq/tests/local.supp -q /home/rubio/jq/jq -b .
-1.0E-1000000000

exit 0
+ exit 0
+ clean
+ true
+ [ -n /tmp/jqE1C113 ]
+ rm -rf /tmp/jqE1C113
PASS tests/shtest (exit status: 0)
